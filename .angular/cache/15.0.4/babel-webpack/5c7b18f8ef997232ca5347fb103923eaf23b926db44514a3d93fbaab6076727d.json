{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/producto.service\";\nimport * as i2 from \"ngx-toastr\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nfunction ListadoComponent_table_9_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵelement(11, \"i\", 12);\n    i0.ɵɵelementStart(12, \"i\", 13);\n    i0.ɵɵlistener(\"click\", function ListadoComponent_table_9_tr_13_Template_i_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const producto_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.eliminarProducto(producto_r3._id));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const producto_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(producto_r3.nombre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(producto_r3.categoria);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(producto_r3.ubicacion);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(9, 4, producto_r3.precio, \"EUR\"));\n  }\n}\nfunction ListadoComponent_table_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 9)(1, \"thead\")(2, \"tr\")(3, \"th\", 10);\n    i0.ɵɵtext(4, \"Productos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\", 10);\n    i0.ɵɵtext(6, \"Categorias\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\", 10);\n    i0.ɵɵtext(8, \"Ubicaci\\u00F3n\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\", 10);\n    i0.ɵɵtext(10, \"precio\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"th\", 10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"tbody\");\n    i0.ɵɵtemplate(13, ListadoComponent_table_9_tr_13_Template, 13, 7, \"tr\", 11);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.listProductos);\n  }\n}\nfunction ListadoComponent_h4_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\");\n    i0.ɵɵtext(1, \"No hay productos\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class ListadoComponent {\n  constructor(_productoService, toastr) {\n    this._productoService = _productoService;\n    this.toastr = toastr;\n    this.listProductos = [];\n  }\n  ngOnInit() {\n    this.obtenerProductos();\n  }\n  obtenerProductos() {\n    this._productoService.getProductos().subscribe(data => {\n      console.log(data);\n      this.listProductos = data;\n    }, error => {\n      console.log(error);\n    });\n  }\n  eliminarProducto(id) {\n    this._productoService.eliminarProducto(id).subscribe(data => {\n      this.toastr.error();\n    });\n  }\n}\nListadoComponent.ɵfac = function ListadoComponent_Factory(t) {\n  return new (t || ListadoComponent)(i0.ɵɵdirectiveInject(i1.ProductoService), i0.ɵɵdirectiveInject(i2.ToastrService));\n};\nListadoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListadoComponent,\n  selectors: [[\"app-listado\"]],\n  decls: 11,\n  vars: 2,\n  consts: [[1, \"container\", \"mt-3\"], [1, \"row\"], [1, \"col-lg-8\", \"offset-lg-2\"], [1, \"card\"], [1, \"card-body\", \"text-center\"], [1, \"titulo\"], [\"routerLink\", \"/producto\", 1, \"btn\", \"btn-success\", \"float-end\"], [\"class\", \"table table-striped mt-3\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"table\", \"table-striped\", \"mt-3\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [1, \"fa-solid\", \"fa-pen-to-square\", \"text-primary\", \"separacion\"], [1, \"fa-solid\", \"fa-trash\", \"text-danger\", \"separacion\", 3, \"click\"]],\n  template: function ListadoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"span\", 5);\n      i0.ɵɵtext(6, \"LISTADO DE PRODUCTOS \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"button\", 6);\n      i0.ɵɵtext(8, \"Nuevo \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(9, ListadoComponent_table_9_Template, 14, 1, \"table\", 7);\n      i0.ɵɵtemplate(10, ListadoComponent_h4_10_Template, 2, 0, \"h4\", 8);\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngIf\", ctx.listProductos.length > 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.listProductos.length == 0);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.RouterLink, i3.CurrencyPipe],\n  styles: [\".separacion[_ngcontent-%COMP%]{\\r\\n  cursor: pointer;\\r\\n  margin-left: 1em;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9saXN0YWRvL2xpc3RhZG8uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGVBQWU7RUFDZixnQkFBZ0I7QUFDbEIiLCJzb3VyY2VzQ29udGVudCI6WyIuc2VwYXJhY2lvbntcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgbWFyZ2luLWxlZnQ6IDFlbTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IAkBcA,0BAA2C;IACrCA,YAAmB;IAAAA,iBAAK;IAC5BA,0BAAI;IAAAA,YAAsB;IAAAA,iBAAK;IAC/BA,0BAAI;IAAAA,YAAsB;IAAAA,iBAAK;IAC/BA,0BAAI;IAAAA,YAAqC;;IAAAA,iBAAK;IAC9CA,2BAAI;IACFA,yBAAiE;IACjEA,8BAA8F;IAA3FA;MAAA;MAAA;MAAA;MAAA,OAASA,uDAA8B;IAAA,EAAC;IAAmDA,iBAAI;;;;IANhGA,eAAmB;IAAnBA,wCAAmB;IACnBA,eAAsB;IAAtBA,2CAAsB;IACtBA,eAAsB;IAAtBA,2CAAsB;IACtBA,eAAqC;IAArCA,qEAAqC;;;;;IAf/CA,gCAAyE;IAGnDA,yBAAS;IAAAA,iBAAK;IAC9BA,8BAAgB;IAAAA,0BAAU;IAAAA,iBAAK;IAC/BA,8BAAgB;IAAAA,8BAAS;IAAAA,iBAAK;IAC9BA,8BAAgB;IAAAA,uBAAM;IAAAA,iBAAK;IAC3BA,0BAAqB;IACvBA,iBAAK;IAEPA,8BAAO;IACLA,2EASK;IAEPA,iBAAQ;;;;IAXmBA,gBAAgB;IAAhBA,8CAAgB;;;;;IAa7CA,0BAAuC;IAAAA,gCAAgB;IAAAA,iBAAK;;;ACrBtE,OAAM,MAAOC,gBAAgB;EAI3BC,YAAoBC,gBAAiC,EAAUC,MAAoB;IAA/D,qBAAgB,GAAhBD,gBAAgB;IAA2B,WAAM,GAANC,MAAM;IAFrE,kBAAa,GAAY,EAAE;EAI3B;EAGAC,QAAQ;IACN,IAAI,CAACC,gBAAgB,EAAE;EACzB;EAEAA,gBAAgB;IACd,IAAI,CAACH,gBAAgB,CAACI,YAAY,EAAE,CAACC,SAAS,CAC3CC,IAAI,IAAI;MACPC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;MACjB,IAAI,CAACG,aAAa,GAAEH,IAAI;IAC1B,CAAC,EACAI,KAAK,IAAI;MACRH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;IACpB,CAAC,CACF;EACH;EAEAC,gBAAgB,CAACC,EAAM;IACrB,IAAI,CAACZ,gBAAgB,CAACW,gBAAgB,CAACC,EAAE,CAAC,CAACP,SAAS,CAACC,IAAI,IAAE;MACvD,IAAI,CAACL,MAAM,CAACS,KAAK,EAAG;IACxB,CAAC,CAAC;EACJ;;AA7BWZ,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA,gBAAgB;EAAAe;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDV7BpB,8BAA4B;MAKGA,qCAAqB;MAAAA,iBAAO;MACjDA,iCAAkE;MAAAA,sBAAM;MAAAA,iBAAS;MACjFA,sEAuBQ;MACRA,iEAA4D;MAC9DA,iBAAM;;;MAzBIA,eAA6B;MAA7BA,mDAA6B;MAwBhCA,eAA8B;MAA9BA,oDAA8B","names":["i0","ListadoComponent","constructor","_productoService","toastr","ngOnInit","obtenerProductos","getProductos","subscribe","data","console","log","listProductos","error","eliminarProducto","id","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Martin Kirilov\\OneDrive\\Escritorio\\MEAN\\cliente\\src\\app\\components\\listado\\listado.component.html","C:\\Users\\Martin Kirilov\\OneDrive\\Escritorio\\MEAN\\cliente\\src\\app\\components\\listado\\listado.component.ts"],"sourcesContent":["<div class=\"container mt-3\">\n  <div class=\"row\">\n    <div class=\"col-lg-8 offset-lg-2\">\n      <div class=\"card\">\n        <div class=\"card-body text-center\">\n          <span class=\"titulo\">LISTADO DE PRODUCTOS </span>\n          <button class=\"btn btn-success float-end\" routerLink=\"/producto\" >Nuevo </button>\n          <table *ngIf=\"listProductos.length >0 \" class=\"table table-striped mt-3\">\n            <thead>\n              <tr>\n                <th scope=\"col\">Productos</th>\n                <th scope=\"col\">Categorias</th>\n                <th scope=\"col\">Ubicación</th>\n                <th scope=\"col\">precio</th>\n                <th scope=\"col\"></th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr *ngFor=\"let producto of listProductos\">\n                <th>{{producto.nombre}}</th>\n                <td>{{producto.categoria}}</td>\n                <td>{{producto.ubicacion}}</td>\n                <td>{{producto.precio | currency:'EUR' }}</td>\n                <td>\n                  <i class=\"fa-solid fa-pen-to-square text-primary separacion\"></i>\n                  <i (click)=\"eliminarProducto(producto._id)\" class=\"fa-solid fa-trash text-danger  separacion\"></i>\n                </td>\n              </tr>\n              \n            </tbody>\n          </table>\n          <h4 *ngIf=\"listProductos.length ==0 \" >No hay productos</h4>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { ToastrService } from 'ngx-toastr';\nimport { Producto } from 'src/app/models/producto';\nimport { ProductoService } from 'src/app/services/producto.service';\n\n@Component({\n  selector: 'app-listado',\n  templateUrl: './listado.component.html',\n  styleUrls: ['./listado.component.css'],\n})\nexport class ListadoComponent implements OnInit {\n\n  listProductos:Producto[]=[];\n\n  constructor(private _productoService: ProductoService, private toastr:ToastrService ) {\n     \n  }\n\n\n  ngOnInit(): void {\n    this.obtenerProductos();\n  }\n\n  obtenerProductos() {\n    this._productoService.getProductos().subscribe(\n      (data) => {\n        console.log(data);\n        this.listProductos= data;\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  }\n\n  eliminarProducto(id:any){\n    this._productoService.eliminarProducto(id).subscribe(data=>{\n        this.toastr.error(,)\n    })\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}